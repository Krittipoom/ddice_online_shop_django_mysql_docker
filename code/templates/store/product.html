{% extends "base.html" %}

{% block content %}
{% load static %} 
    <link rel="stylesheet" href="{% static 'css/aos.css' %}">
    <script src="{% static 'js/aos.js' %}"></script>

    <script>
      AOS.init();
    </script>

    <form action="" method="POST">

	<button id="filter-btn" class="btn btn-info" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">Filter Product</button>

    <button id="filter-btn" type="submit" class="btn btn-danger" type="button" name="reset">Reset</button>

	<div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions" aria-labelledby="offcanvasWithBothOptionsLabel">
	  <div class="offcanvas-header">
	    <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Product Filter</h5>
	    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
	  </div>
	  <div class="offcanvas-body">

	    {% load crispy_forms_tags %}
		{% crispy form %}

	  </div>
	</div>

    </form>

<section style="background-color: #eee;">
  <div class="container py-6" style="margin-top: 4rem;">
    <div class="row">
      {% for prod in product_data %}
        <div class="col-md-6 col-lg-3 mb-4 mb-lg-6">
          <div data-aos="flip-down">
            <div class="card" style="width:95%">
              <div class="d-flex">
                {% if prod.onsale %}
                <div class="bg-danger rounded-circle d-flex align-items-center justify-content-center shadow-1-strong" style="width: 55px; height: 35px;">
                  <p class="text-white mb-0 small">{{ prod.onsale }}</p>
                </div>
                {% else %}
                <p style="height: 35px"></p>
                {% endif %}
              </div>
              <img src="/media/{{ prod.im }}" class="card-img-top" alt="{{ prod.title }}">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <p class="mb-0">{{ prod.instock }}</p>
                  <p class="small text-danger"><s>{{ prod.ogprice }}</s></p>
                </div>

                <div class="d-flex justify-content-between mb-3">
                  <h5 class="mb-0">{{ prod.title }} {% if prod.recommend %}<br><span style="color: red;">{{ prod.recommend }}</span>{% else %}<br><br>{% endif %}</h5>
                  <h5 class="text-dark mb-0">{{ prod.price }}</h5>
                </div>

                <div class="d-flex justify-content-between mb-2">
                  <p class="text-muted mb-0">Available: <span class="fw-bold">{{ prod.available }}</span></p>
                  <div class="ms-auto text-warning">
                    {{ prod.star }}
                  </div>
                  <p> {{ prod.star_num }} </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      {% empty %}
      <div class="col-md-12 col-lg-4 mb-4 mb-lg-0">
        <h1>Sorry, there's no requested product..</h1>
        <img src="{% static 'img/noimage.png' %}" style="width: 30vw;">
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!--
        <div class="row pt-5" style="margin-bottom:6rem; margin-left: 5.2rem; margin-right: 4.2rem;">
            <div class="col-sm-12">
                <table style="width:100%">
                    <thead style="text-align: end;">
                        <tr>
                            <th><p>Title</p></th>
                            <th><p>In stock</p></th>
                            <th><p>Sale</p></th>                            
                            <th><p>Recommend</p></th>
                            <th><p>Image</p></th>
                            <th><p>Available</p></th>
                            <th><p>OG Price</p></th>
                            <th><p>Price</p></th>
                            <th><p>Star</p></th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for prod in product_data %}
                        <tr>
                            <td style="text-align: end;">{{ prod.title }}</td>
                            <td style="text-align: end;">{{ prod.instock }}</td>
                            <td style="text-align: end;">{{ prod.onsale }}</td>
                            <td style="text-align: end;">{{ prod.recommend }}</td>
                            <td style="text-align: end;"><img src="/media/{{ prod.im }}" style="width: 15vw;"></td>
                            <td style="text-align: end;">{{ prod.available }}</td>
                            <td style="text-align: end;">{{ prod.ogprice }}</td>
                            <td style="text-align: end;">{{ prod.price }}</td>
                            <td style="text-align: end;">{{ prod.star }}</td>
                        </tr>
                        {% empty %}
                            <td style="text-align: end;">Sorry, there's no requested product..</td>
                            <td style="text-align: end;">...</td>
                            <td style="text-align: end;">...</td>
                            <td style="text-align: end;">...</td>
                            <td style="text-align: end;"><img src="{% static 'img/noimage.png' %}" style="width: 15vw;"></td>
                            <td style="text-align: end;">...</td>
                            <td style="text-align: end;">...</td>
                            <td style="text-align: end;">...</td>
                            <td style="text-align: end;">...</td>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
-->
{% endblock %}
